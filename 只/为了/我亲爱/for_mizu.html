<style>
  html {
    scroll-behavior: smooth;
    scroll-snap-type: y mandatory;
  }

  section {
    height: 100vh;
    scroll-snap-align: start;
  }

  section h1,
  section p {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1.8s ease, transform 1.8s ease;
  }

  .date {
    border-bottom: rgb(165, 97, 216) groove 10px;
    border-top: none;
  }

  section.active h1,
  section.active p {
    opacity: 1;
    transform: translateY(0);
  }


  body {
    font-family: "ZCOOL KuaiLe", sans-serif;
    background-image: linear-gradient(rgb(154, 90, 194), pink);
  }

.page-btn {
  position: fixed;
  bottom: 10vh;
  height: 6vh;
  width: 6vh;
  background: #fffdfa;
  border: 2px solid #b7a78a;
  border-radius: 10px;
  box-shadow: 0 4px 5px rgba(0,0,0,0.15);
  font-size: 2rem;
  font-family: "Georgia", serif;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  /* remove transform transitions */
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

.page-btn-left {
  left: 10%;
  animation: wiggle-left 2.7s ease-in-out infinite;
  animation-fill-mode: both;
}

.page-btn-right {
  right: 10%;
  animation: wiggle-right 2.7s ease-in-out infinite;
  animation-fill-mode: both;
}

@keyframes wiggle-left {
  0% { transform: rotateY(0deg) translateX(0); }
  25% { transform: rotateY(18deg) translateX(-2px); }
  50% { transform: rotateY(12deg) translateX(0); }
  75% { transform: rotateY(20deg) translateX(-3px); }
  100% { transform: rotateY(0deg) translateX(0); }
}

@keyframes wiggle-right {
  0% { transform: rotateY(0deg) translateX(0); }
  25% { transform: rotateY(-18deg) translateX(2px); }
  50% { transform: rotateY(-12deg) translateX(0); }
  75% { transform: rotateY(-20deg) translateX(3px); }
  100% { transform: rotateY(0deg) translateX(0); }
}

@keyframes heartbeat {
  0%   { transform: translateX(-50%) scale(1); }
  14%  { transform: translateX(-50%) scale(1.2); }
  28%  { transform: translateX(-50%) scale(1); }
  42%  { transform: translateX(-50%) scale(1.2); }
  70%  { transform: translateX(-50%) scale(1); }
  100% { transform: translateX(-50%) scale(1); }
}

@keyframes wiggle-assets {  
  0%   { transform: rotate(0deg) scale(1); }
  25%  { transform: rotate(3deg) scale(1.05); }
  50%  { transform: rotate(0deg) scale(0.97); }
  75%  { transform: rotate(-3deg) scale(1.04); }
  100% { transform: rotate(0deg) scale(1); }
}

#scrollHeart {
  position: fixed;
  bottom: 10vh;
  left: 50%;
  transform: translateX(-50%);
  font-size: 3rem;

  /* Start as outline */
  color: transparent;
  -webkit-text-stroke: 2px #ff4d6d;

  /* Gradient fill controlled by JS */
  background: linear-gradient(to top, #ff4d6d 0%, transparent 0%);
  -webkit-background-clip: text;
  background-clip: text;

  pointer-events: none;
}

</style>

<script src="https://kit.fontawesome.com/b20253bfc0.js" crossorigin="anonymous"></script>
<script>
  let currentScene = 0;
  const maxScene = 5; // since scene6 â†’ index 5

  function pauseHeartbeat() {
    const heart = document.getElementById("scrollHeart");
    heart.style.animationPlayState = "paused";
    heart.style.transform = "translateX(-50%) scale(1)"; // reset scale
  }

  function resumeHeartbeat() {
    const heart = document.getElementById("scrollHeart");
    heart.style.animationPlayState = "running";
  }

  window.addEventListener("scroll", () => {
    // Update heart fill as before
    const rect = document.getElementById("heartFillRect");
    const maxScroll = document.body.scrollHeight - window.innerHeight;
    const scrollPercent = window.scrollY / maxScroll;
    const newY = 100 - scrollPercent * 100;
    rect.setAttribute("y", newY);

    // Update heartbeat speed dynamically
    const heart = document.getElementById("scrollHeart");
    const minSpeed = 0.9;
    const maxSpeed = 2.2;
    const newDuration = maxSpeed - (scrollPercent * (maxSpeed - minSpeed));
    heart.style.animationDuration = newDuration + "s";
  });

  function updateButtons() {
    const leftBtn = document.querySelector('.page-btn-left');
    const rightBtn = document.querySelector('.page-btn-right');

    // hide left button on first page
    if (currentScene === 0) {
      // leftBtn.style.display = "none";
    } else {
      leftBtn.style.display = "flex";
    }

    // hide right button on last page
    if (currentScene === maxScene) {
      // rightBtn.style.display = "none";
    } else {
      rightBtn.style.display = "flex";
    }
  }

  function goPrevPage() {
    if (currentScene === 0) {
      spawnFloatingHeart();
      return;
    }

    currentScene -= 1;

    pauseHeartbeat();

    window.scrollTo({
      top: currentScene * window.innerHeight,
      behavior: "smooth"
    });

    setTimeout(resumeHeartbeat, 300);
  }


  function goNextPage() {
    if (currentScene === maxScene) {
      spawnFloatingHeart();
      return;
    }

    currentScene += 1;

    pauseHeartbeat();

    window.scrollTo({
      top: currentScene * window.innerHeight,
      behavior: "smooth"
    });

    setTimeout(resumeHeartbeat, 300);
  }

  function spawnFloatingHeart() {
    const heart = document.createElement("div");
    heart.textContent = "ğŸ’—";
    heart.style.position = "fixed";
    heart.style.left = Math.random() * 85 + 5 + "%";
    heart.style.top = Math.random() * 70 + 20 + "%";
    heart.style.fontSize = (Math.random() * 20 + 25) + "px";
    heart.style.opacity = "1";
    heart.style.transition = "transform 1.8s ease-out, opacity 1.8s ease-out";

    document.body.appendChild(heart);

    // float up + fade
    requestAnimationFrame(() => {
      heart.style.transform = "translateY(-80px)";
      heart.style.opacity = "0";
    });

    // remove after animation
    setTimeout(() => {
      heart.remove();
    }, 2000);
  }



  // run once when page loads
  window.onload = updateButtons;

  function updateActiveSection() {
    const sections = document.querySelectorAll("section");
    const scrollPos = window.scrollY;
    const windowHeight = window.innerHeight;

    sections.forEach((section, index) => {
      const sectionTop = section.offsetTop;
      const sectionBottom = sectionTop + section.offsetHeight;

      // Section is centered in the viewport
      if (scrollPos + windowHeight * 0.5 >= sectionTop &&
          scrollPos + windowHeight * 0.5 < sectionBottom) {

        section.classList.add("active");

        if (currentScene !== index) {
          currentScene = index;
          updateButtons();
        }

      } else {
        section.classList.remove("active");
      }
    });
  }

  // Run on scroll
  window.addEventListener("scroll", updateActiveSection);

  // Run on page load
  window.addEventListener("load", updateActiveSection);

</script>

<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Mizu</title>
</head>
<section id="scene1">
  <!-- scene 1 content -->
   <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 45vh;"><div class="date">April 12, 2025</div></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    ç¬¬ä¸€å¤©è§åˆ°ä½ 
    </p>
</section>

<section id="scene2">
  <!-- scene 2 content -->
  <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 45vh;"><div class="date">August 5, 2025</div></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    ç¬¬ä¸€æ¬¡è·Ÿä½ è®²è¯å’Œæ‰“mai
    </p>
</section>

<section id="scene3">
  <!-- scene 3 content -->
  <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 45vh;"><div class="date">October 5, 2025</div></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    è·Ÿä½ åº†ç¥ç”Ÿæ—¥,ç„¶åè·Ÿä½ å‘Šç™½
    </p>
</section>

<section id="scene4">
  <!-- scene 4 content -->
  <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 10vh;"><div class="date">December 25, 2025</div></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    é¦–å…ˆé“æ­‰ï¼Œæˆ‘çš„åè¯­è¿˜æ˜¯å¾ˆçƒ‚ã€‚<br>
    å…¶å®ï¼Œæˆ‘ä¸å¤ªä¼šé¢å¯¹é¢è®²è¯æ—¶è¡¨è¾¾è‡ªå·±æ„Ÿæƒ…çš„ï¼Œæ¯”è¾ƒä¼šç”¨å†™çš„æ–¹å¼ã€‚<br>
    æƒ³è·Ÿä½ è¯´ä¸€äº›å¿ƒé‡Œè¯<br>
</section>

<section id="scene5">
  <!-- scene 5 content -->
  <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 10vh;"></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    è™½ç„¶è®¤è¯†äº†ä¸åˆ°åŠå¹´ï¼Œä½†æ„Ÿè§‰åƒä½ æ˜¯æˆ‘å‘½ä¸­æ³¨å®šé‡è§çš„äººã€‚<br>
    ä½ æ˜¯ç¬¬ä¸€ä¸ªä¼šæƒ³è¦ç†è§£æˆ‘ï¼Œä¼šå¯¹æˆ‘æœ‰è€å¿ƒçš„ï¼Œ<br>
    è€Œä¸”åœ¨æˆ‘èº«è¾¹æ—¶å€™è®©æˆ‘æ„Ÿè§‰åˆ°è‡ªå·±çš„å­˜åœ¨æ˜¯è¢«éœ€è¦çš„ï¼Œå’Œè¢«æƒ³è¦çš„ã€‚<br>
    <!-- æˆ‘ä»¬è®¤è¯†çš„è¿™å‡ ä¸ªæœˆå·²è®©æˆ‘æ„Ÿè§‰åˆ°å¯¹ä¸€ä½æœ‰å¤šé‡è¦çš„ï¼Œ<br> -->
</section>

<section id="scene6">
  <!-- scene 6 content -->
  <h1 style="text-align: center; font-size: 2.5rem; margin: auto; height: 10vh;"></h1>
    <p style="text-align: center; font-size: 2.5rem; margin: auto;">
    æˆ‘ä¼šæ°¸è¿œæ„Ÿæ¿€ä¸Šå¤©ï¼Œä¸åªæœ‰çš„æœºä¼šé‡è§ä½ è¿™ä½åœ¨æˆ‘å¿ƒé‡Œå¦‚æ­¤çè´µçš„ï¼Œä½†åˆæ„Ÿæ¿€æœ‰çš„æœºä¼šåœ¨ä¸çŸ¥ä¸è§‰ä¸­çˆ±ä¸Šäº†ä½ ã€‚<br>
    å¸Œæœ›æœªæ¥çš„æ—¥å­é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·èµ°ä¸‹å»ã€‚ä¸ç®¡æ˜¯å¼€å¿ƒè¿˜æ˜¯éš¾è¿‡çš„æ—¶åˆ»ï¼Œæˆ‘éƒ½æƒ³é™ªåœ¨ä½ èº«è¾¹ã€‚<br>
    å¸Œæœ›ä½ ä¹Ÿèƒ½æ„Ÿå—åˆ°æˆ‘å¯¹ä½ çš„çˆ±æ„ã€‚<br>
    </p>
</section>

<div class="page-btn page-btn-left" onclick="goPrevPage()">
  <i class="fa-solid fa-arrow-left"></i>
</div>

<svg id="scrollHeart" width="80" height="80" viewBox="0 0 100 100" style="
  animation: heartbeat 2.4s infinite;
  position: fixed;
  bottom: 10vh;
  left: 50%;
  transform: translateX(-50%);
  pointer-events: none;
  color: #ff4d6d; text-shadow: 0 0 5px #ff4d6d, 0 0 10px #ff4d6d;
">
  <!-- Heart Outline -->
  <path id="heartOutline"
    d="M50 82 L20 52 C5 37 5 15 25 10 C35 8 45 14 50 22 C55 14 65 8 75 10 C95 15 95 37 80 52 Z"
    fill="none"
    stroke="#ff4d6d"
    stroke-width="5"
  />

  <!-- Red Fill -->
  <defs>
    <clipPath id="heartClip">
      <path
        d="M50 82 L20 52 C5 37 5 15 25 10 C35 8 45 14 50 22 C55 14 65 8 75 10 C95 15 95 37 80 52 Z"
      ></path>
    </clipPath>
  </defs>

  <!-- Gradual Fill Rectangle -->
  <rect id="heartFillRect"
    x="0" y="100"
    width="100" height="100"
    fill="#ff4d6d"
    clip-path="url(#heartClip)"
  />
</svg>

<!-- <script>
document.getElementById("scrollHeart").addEventListener("click", () => {
  const next = document.querySelector("section:nth-of-type(2)");
  next.scrollIntoView({ behavior: "smooth" });
});
</script> -->

<div class="page-btn page-btn-right" onclick="goNextPage()">
  <i class="fa-solid fa-arrow-right"></i>
</div>

<div style="position: fixed; left: 3%; bottom: 25%; animation: wiggle-assets 1.9s infinite; opacity: 0.5;">
  <img src="../../../strawberry.png" style="width: 5vh; height: 5vh;" />
</div>

<div style="position: fixed; left: 1%; top:0%; animation: wiggle-assets 1.9s infinite;">
  <img src="../../../pencil.png" style="width: 5vh; height: 5vh;" />
</div>

<!-- <div style="position: fixed; bottom: 10vh; left: 35%;">
  <button onclick="window.scrollTo(0, (currentScene - 1) % 6 * window.innerHeight)" style="background: transparent; border: 1px black; height: 5vh; width: 5vh;">
    <i class="fa-solid fa-arrow-left" style="animation: arrow-bounce-left 1.5s ease infinite; transform: translateX(-10px);"></i>
  </button>
</div>

<div style="position: fixed; bottom: 10vh; right: 35%;">
  <button onclick="window.scrollTo(0, (currentScene + 1) % 6 * window.innerHeight)" style="background: transparent; border: 1px black; height: 5vh; width: 5vh;">
    <i class="fa-solid fa-arrow-right" style="animation: arrow-bounce-right 1.5s ease infinite; transform: translateX(10px);"></i>
  </button>
</div> -->

<style>

</style>


